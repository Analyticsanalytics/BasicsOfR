#Loading and splitting the data

#We can either drop file in the dir or create a path and read 
Airlines = read.csv(file = "C:\\Users\\admin\\Desktop\\AirlineDelay.csv")

#Reading directly from the csv
Airlines = read.csv("AirlinesDelay.csv")

#Use stringsAsFac=F if there are alot of text file to read
Airlines = read.csv("AirlinesDelay.csv", stringsAsFactors=FALSE)

#Open excel sheet, copy all the data and use clipboard to read data into R. Here data is separated by tabs (t).
#Backslash will make sure R reads t as tab function rather than general function
Airlines = read.table(file="clipboard", header=T, sep = "\t")

#Reading data directly from a website
Airlines = read.table("http://files.Airlinesgroup.org/datasets/AirlinesDelay/ml-100k/u.item", header=FALSE, sep="|", quote="\"")

#########Splitting the data
#Data here is split using indexes because dependent var is continous here.The sample.split function is typically used to split data with a categorical dependent variable
spl = sample(nrow(Airlines), 0.7*nrow(Airlines))
AirlinesTrain = Airlines[spl,]
AirlinesTest = Airlines[-spl,]

#Make a new var DelayClass variable whcih takes three different values: "No Delay", "Minor Delay", and "Major Delay". Create this variable, called "DelayClass", 
#Note that a minor delay is a delay less than 30 minutes long, and a major delay is a delay at least 30 minutes long
Airlines$DelayClass = factor(ifelse(Airlines$TotalDelay == 0, "No Delay", ifelse(Airlines$TotalDelay >= 30, "Major Delay", "Minor Delay")))

#Removing the existing depdent variable
Airlines$TotalDelay = NULL

#Now that dependent var (DelayClass) is categorical, we use split function
library(caTools)
set.seed(3000)
spl = sample.split(Airlines$DelayClass, SplitRatio=0.7)
AirlinesTrain = subset(Airlines, spl==TRUE)
AirlinesTest = subset(Airlines, spl==FALSE)


